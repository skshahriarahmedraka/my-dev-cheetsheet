remote read 

1. fist approach 
- local prometheus + thanos sidecar + storage bucket(s3) 
- query via thanos query , thanos query can query local prometheus and remote storage bucket
- graphana can query thanos query and display the data
- thanos can use storage gateway to store data in s3 


read remote (v2)
- prometheus + querier + storage gateway + compactor  
- thanos querier can query local prometheus and remote storage gateway
- graphana can query thanos querier and display the data 


remote wright (v2)

remote wright is easy , just add url in prometheus config file

```yaml
apiVersion: monitoring.coreos.com/v1
kind: Prometheus
metadata:
  name: prometheus-example
spec:
  ... # other configurations
  remoteWrite:
  - url: "http://thanos-querier:10901/api/v1/write"
    tlsConfig:
      certFile: "secrets/tls.crt"
      keyFile: "secrets/tls.key"
      caFile: "secrets/ca.crt"
    queryConfig:
      maxSamplesPerSend: 1000 
      maxShards: 200
      capacity: 2500
    scrapeInterval: 30s
```

- in this approach, prometheus will send data to thanos receiver, thanos receiver will store data in storage gateway 
- graphana can query thanos querier and display the data
